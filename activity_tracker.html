<html>
  <head>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/split-flap.js"></script>
    <style type="text/css">
      
      body {
        background: #0F0F0F;
        color: #FFF;
        font-family: helvetica;
      }
      .splitflap {
        width: 1250px;
        overflow: none;
      }
      .splitflap h1 {
        text-transform: uppercase;
        font-size: 2.5em;
      }
      .splitflap .header {
        float: left;
        font-size: 1.3em;
        margin-bottom: 10px;
      }
      .splitflap ul {
        list-style: none;
      }
      .splitflap ol {
        font-weight: bold;
        font-size: 2.5em;
      }
      .splitflap .row {
        clear: both;
        height: 60px;
      }
      .splitflap .group {
        float: left;
        margin-right: 40px;
      }
      .splitflap .separator {
        float: left;
        height: 40px;
        width: 15px;
        font-weight: bold;
        font-size: 1.8em;
      }
      .splitflap .lights {
        margin-right: 0;
      }
        .splitflap .lights div {
          float: left;
          margin-top: 10px;
          margin-right: 10px;
          width: 18px;
          height: 18px;
        }
          .splitflap .lights div.on {
            background-position: -18px 0;
          }
          .splitflap .lights .green {
            background: url('img/lights_green.png') no-repeat;
          }
          .splitflap .lights .red {
            background: url('img/lights_red.png') no-repeat;
          }
      .splitflap .character {
        float: left;
        margin-right: 5px;
        width: 25px;
        height: 40px;
        background: url('img/split-flap-letters-yellow-sm.png') no-repeat;
        background-position: 0px 0px;
      }
        .splitflap .character span {
          width: 25px;
          height: 40px;
          display: block;
          background: url('img/split-flap-letters-yellow-sm.png') no-repeat;
          background-position: -25px 0px; /* start with a space */
        }
        
      .splitflap .character span.ctrn { background-position: 0px 0px; } /* transition */
      .splitflap .character span.csp { background-position: -25px 0px; } /* space */
      .splitflap .character span.cA { background-position: -50px 0px; } /* A */
      .splitflap .character span.cB { background-position: -75px 0px; }
      .splitflap .character span.cC { background-position: -100px 0px; }
      .splitflap .character span.cD { background-position: -125px 0px; }
      .splitflap .character span.cE { background-position: -150px 0px; }
      .splitflap .character span.cF { background-position: -175px 0px; }
      .splitflap .character span.cG { background-position: -200px 0px; }
      .splitflap .character span.cH { background-position: -225px 0px; }
      .splitflap .character span.cI { background-position: -250px 0px; }
      .splitflap .character span.cJ { background-position: -275px 0px; }
      .splitflap .character span.cK { background-position: -300px 0px; }
      .splitflap .character span.cL { background-position: -325px 0px; }
      .splitflap .character span.cM { background-position: -350px 0px; }
      .splitflap .character span.cN { background-position: -375px 0px; }
      .splitflap .character span.cO { background-position: -400px 0px; }
      .splitflap .character span.cP { background-position: -425px 0px; }
      .splitflap .character span.cQ { background-position: -450px 0px; }
      .splitflap .character span.cR { background-position: -475px 0px; }
      .splitflap .character span.cS { background-position: -500px 0px; }
      .splitflap .character span.cT { background-position: -525px 0px; }
      .splitflap .character span.cU { background-position: -550px 0px; }
      .splitflap .character span.cV { background-position: -575px 0px; }
      .splitflap .character span.cW { background-position: -600px 0px; }
      .splitflap .character span.cX { background-position: -625px 0px; }
      .splitflap .character span.cY { background-position: -650px 0px; }
      .splitflap .character span.cZ { background-position: -675px 0px; } /* Z */
      .splitflap .character span.c0 { background-position: -700px 0px; } /* 0 */
      .splitflap .character span.c1 { background-position: -725px 0px; }
      .splitflap .character span.c2 { background-position: -750px 0px; }
      .splitflap .character span.c3 { background-position: -775px 0px; }
      .splitflap .character span.c4 { background-position: -800px 0px; }
      .splitflap .character span.c5 { background-position: -825px 0px; }
      .splitflap .character span.c6 { background-position: -850px 0px; }
      .splitflap .character span.c7 { background-position: -875px 0px; }
      .splitflap .character span.c8 { background-position: -900px 0px; }
      .splitflap .character span.c9 { background-position: -925px 0px; } /* 9 */
      .splitflap .character span.cper { background-position: -950px 0px; } /* . */
      .splitflap .character span.ccom { background-position: -975px 0px; } /* , */
      .splitflap .character span.cque { background-position: -1000px 0px; } /* ? */
      .splitflap .character span.cexc { background-position: -1025px 0px; } /* ! */
      .splitflap .character span.csla { background-position: -1050px 0px; } /* / */
      .splitflap .character span.capo { background-position: -1075px 0px; } /* ' */
      .splitflap .character span.cplu { background-position: -1100px 0px; } /* + */
      .splitflap .character span.cmin { background-position: -1125px 0px; } /* - */
      .splitflap .character span.cup  { background-position: -1150px 0px; } /* ↑ */
      .splitflap .character span.cdn  { background-position: -1175px 0px; } /* ↓ */
      
    </style>
    
    <script type="text/javascript">

      sf.chart.dataBaseUrl = "/split-flap/";
      
      sf.local.updateChart = function() {
        // update the display
        console.log("rendering");
        sf.chart.render($("#display1"));
        // figure out if the trend is positive or negative by looking at
        // the data0 and data1 $.data() values and and illuminate 
        // the corresponding trend light
        $(".row .lights").each(function() {
          var t0 = $(this).siblings(".data0").data("contents");
          var t1 = $(this).siblings(".data1").data("contents");
          $(this).find(".green, .red").removeClass("on");
          if(t0 - t1 >= 0) {
            $(this).find(".green").addClass("on");
          } else {
            $(this).find(".red").addClass("on");
          }
        });
      };
      
      $(document).ready(function() {
        sf.local.updateChart();
        // Get the json data and re-render the chart every 10 seconds
        setInterval("sf.local.updateChart()", 10000);
      });
      
      
    </script>
    
  </head>
  <body>
  
    <div id="display1" class="chartContainer splitflap">

      <!-- Chart parameters -->
      <div class="chartPrefs" style="display:none;">
        <input type="hidden" name="chartTitle" value="Sources" />
        <input type="hidden" name="id" value="123" />
        <input type="hidden" name="type" value="mediaReferrer" />
        <input type="hidden" name="chartStyle" value="splitflap" />
        <input type="hidden" name="sort" value="desc" />
        <input type="hidden" name="truncate" value="10" />
      </div>
      
      <!-- the actual chart -->
      <ul id="chart1" class="chart">
        
        <div class="header" style="width:130px;margin-left:0px;">Last Update</div>
        <div class="header" style="width:595px;margin-left:45px;">Site</div>
        <div class="header" style="width:115px;margin-left:45px;">Last Hour</div>
        <div class="header" style="width:115px;margin-left:45px;">24 Hr Avg</div>
        <div class="header" style="width:75px;margin-left:37px;">Trend</div>
        
        
        <!-- You can put an arbirtary number of rows, groups,   -->
        <!-- and display elements here. sf.chart.render() will -->
        <!-- do the right thing.                                -->
        <li class="row">
          <div class="group data2">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="separator">:</div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group category">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group data0">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group data1">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group lights">
            <div class="green"></div>
            <div class="red"></div>
          </div>
        </li>

        <li class="row">
          <div class="group data2">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="separator">:</div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group category">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group data0">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group data1">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group lights">
            <div class="green"></div>
            <div class="red"></div>
          </div>
        </li>

        <li class="row">
          <div class="group data2">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="separator">:</div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group category">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group data0">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group data1">
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
            <div class="character"><span></span></div>
          </div>
          <div class="group lights">
            <div class="green"></div>
            <div class="red"></div>
          </div>
        </li>

        
      </ul>

    </div>
    
  </body>
</html>